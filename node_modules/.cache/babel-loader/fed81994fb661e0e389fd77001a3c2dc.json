{"ast":null,"code":"import _classCallCheck from\"/home/lestradde/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lestradde/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/lestradde/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/lestradde/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/lestradde/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/lestradde/Desktop/react/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Transition}from'react-transition-group';import'./widget.scss';import Form from\"./Form\";import Table from\"./Table\";import Header from\"./Header\";var Widget=/*#__PURE__*/function(_Component){_inherits(Widget,_Component);function Widget(props){var _this;_classCallCheck(this,Widget);_this=_possibleConstructorReturn(this,_getPrototypeOf(Widget).call(this,props));_this.state={opened:false,showDock:true,msg:\"\",answ:\"\",text:[],header:\"\",botMsg:\"\"};_this.handleToggleOpen=function(){_this.setState(function(prev){var showDock=prev.showDock;if(!prev.opened){showDock=false;}return{showDock:showDock,opened:!prev.opened};});};_this.handleWidgetExit=function(){_this.setState({showDock:true});};_this.renderBody=function(){var showDock=_this.state.showDock;if(!showDock)return'';return React.createElement(\"div\",{className:\"widget-footer-msg\",onClick:_this.handleToggleOpen,onKeyPress:_this.handleToggleOpen});};_this.message=function(msg){var str=\"Вы сможете принять наш пробник в понедельник утром?\";if(msg!==\"\")_this.setState({header:\"-dialog\",botMsg:\"2\",text:_this.state.text.concat({msg:msg,class:\"msg_client\"}).concat({msg:str,class:\"msg_bot\"})});};_this.removeBotMsg=function(){_this.setState({botMsg:\"\"});};_this.append=_this.append.bind(_assertThisInitialized(_this));_this.refo=React.createRef();return _this;}_createClass(Widget,[{key:\"append\",value:function append(value){var text=this.state.text;return this.setState({text:text.concat(value)});}},{key:\"render\",value:function render(){var _this2=this;var opened=this.state.opened;var body=this.renderBody();var _this$props=this.props,bodyText=_this$props.bodyText,headerText=_this$props.headerText,footerText=_this$props.footerText;return React.createElement(\"div\",{className:\"docked-widget\"},React.createElement(Transition,{in:opened,timeout:10,onExited:this.handleWidgetExit},function(status){return React.createElement(\"div\",{className:\"widget widget-\".concat(status)},React.createElement(Header,{name:_this2.state.header}),React.createElement(\"div\",{className:\"widget-body\"},React.createElement(\"div\",null,_this2.state.text.map(function(x){return React.createElement(\"div\",{className:x.class},x.msg);})),React.createElement(Table,{name:_this2.state.botMsg,changeMsg:_this2.message,append:_this2.append,remove:_this2.removeBotMsg})),React.createElement(\"div\",{className:\"widget-footer\"},React.createElement(Form,{changeMsg:_this2.message}),React.createElement(\"div\",{className:\"widget-footer-slash\"}),React.createElement(\"div\",{className:\"widget-footer-slash2\"}),React.createElement(\"div\",{className:\"widget-footer-shift\",onClick:_this2.handleToggleOpen,onKeyPress:_this2.handleToggleOpen})));}),body);}}]);return Widget;}(Component);Widget.defaultProps={headerText:\"widget-header\",bodyText:\"Я онлайн\",footerText:'Footer'};export default Widget;","map":{"version":3,"sources":["/home/lestradde/Desktop/react/my-app/src/widget.js"],"names":["React","Component","Transition","Form","Table","Header","Widget","props","state","opened","showDock","msg","answ","text","header","botMsg","handleToggleOpen","setState","prev","handleWidgetExit","renderBody","message","str","concat","class","removeBotMsg","append","bind","refo","createRef","value","body","bodyText","headerText","footerText","status","map","x","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport './widget.scss';\nimport Form from \"./Form\";\nimport Table from \"./Table\";\nimport Header from \"./Header\";\n\nclass Widget extends Component {\n    constructor(props) {\n        super(props);\n        this.append = this.append.bind(this);\n        this.refo = React.createRef();\n    }\n\n    append(value) {\n        const {text} = this.state\n        return this.setState({\n            text: text.concat(value),\n        });\n\n    }\n    state = {\n        opened: false,\n        showDock: true,\n        msg: \"\",\n        answ: \"\",\n        text: [],\n        header: \"\",\n        botMsg: \"\",\n    }\n\n    handleToggleOpen = () => {\n        this.setState((prev) => {\n            let { showDock } = prev;\n            if (!prev.opened) {\n                showDock = false;\n            }\n            return {\n                showDock,\n                opened: !prev.opened,\n            };\n        });\n    }\n\n    handleWidgetExit = () => {\n        this.setState({\n            showDock: true,\n        });\n    }\n\n    renderBody = () => {\n        const { showDock } = this.state;\n\n        if (!showDock) return '';\n\n        return (\n            <div\n                className=\"widget-footer-msg\"\n                onClick={this.handleToggleOpen}\n                onKeyPress={this.handleToggleOpen}\n            />\n        );\n    }\n\n    message = (msg) => {\n        let str = \"Вы сможете принять наш пробник в понедельник утром?\";\n        if (msg !== \"\")\n            this.setState({header: \"-dialog\", botMsg: \"2\",\n                text: this.state.text.concat({msg:msg,class: \"msg_client\"}).concat({msg: str,class: \"msg_bot\"})});\n    }\n\n    removeBotMsg = () => {\n        this.setState({botMsg: \"\",});\n    }\n\n    render() {\n        const { opened } = this.state;\n        const body = this.renderBody();\n        const { bodyText, headerText, footerText } = this.props;\n\n        return (\n            <div className=\"docked-widget\">\n                <Transition in={opened} timeout={10} onExited={this.handleWidgetExit}>\n                    {status => (\n                        <div className={`widget widget-${status}`}>\n                            <Header name = {this.state.header}/>\n                            <div className=\"widget-body\">\n                                <div>\n                                    {this.state.text.map(x => (<div className={x.class}>{x.msg}</div>))}\n                                </div>\n                                <Table\n                                    name={this.state.botMsg}\n                                    changeMsg = {this.message}\n                                    append = {this.append}\n                                    remove = {this.removeBotMsg}\n                                />\n                            </div>\n                            <div className=\"widget-footer\">\n                                <Form\n                                    changeMsg = {this.message}\n                                />\n                                <div className=\"widget-footer-slash\"></div>\n                                <div className=\"widget-footer-slash2\"></div>\n                                <div\n                                    className=\"widget-footer-shift\"\n                                    onClick={this.handleToggleOpen}\n                                    onKeyPress={this.handleToggleOpen}\n                                />\n                            </div>\n                        </div>\n                    )}\n                </Transition>\n                {body}\n            </div>\n        );\n    }\n}\n\nWidget.propTypes = {\n    headerText: PropTypes.string,\n    bodyText: PropTypes.string,\n    footerText: PropTypes.string,\n};\n\nWidget.defaultProps = {\n    headerText: \"widget-header\",\n    bodyText: \"Я онлайн\",\n    footerText: 'Footer',\n};\n\nexport default Widget;"]},"metadata":{},"sourceType":"module"}